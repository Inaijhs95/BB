<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>激安100円ブランド品セール</title>
<style>
    body {
        background-color: #ffeb3b;
        font-family: Arial, sans-serif;
        color: #d32f2f;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }
    h1 {
        text-align: center;
        color: #d32f2f;
        font-size: 2.2em;
        margin-bottom: 10px;
        animation: blink 1s infinite;
    }
    @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0; }
    }
    .notification-box {
        border: 2px solid #d32f2f;
        background-color: #fff3e0;
        padding: 10px;
        margin-bottom: 20px;
        text-align: center;
        font-weight: bold;
        color: #d32f2f;
        font-size: 1.1em;
    }
    .product {
        display: flex;
        align-items: center;
        border-bottom: 2px solid #d32f2f;
        padding: 10px 0;
    }
    .product img {
        width: 50px;
        height: 50px;
        margin-right: 20px;
        border: 2px solid #d32f2f;
    }
    .info {
        flex: 1;
    }
    .buy-button {
        background-color: #d32f2f;
        color: #fff;
        padding: 10px;
        border: none;
        cursor: pointer;
        font-size: 0.9em;
    }
    .purchased {
        color: #d32f2f;
        font-weight: bold;
    }
    .stock-message {
        position: fixed;
        top: 10px;
        right: -100%;
        font-size: 1.2em;
        font-weight: bold;
        color: #d32f2f;
        animation: slide 10s linear;
    }
    @keyframes slide {
        0% { right: -100%; }
        100% { right: 100%; }
    }
</style>
</head>
<body>

<h1>🔥激安100円セール！<br>今すぐ購入🔥</h1>

<div class="notification-box" id="notification"></div>
<div id="products"></div>
<div id="stock-message" class="stock-message"></div>

<script>
    const products = [
        { name: "Gucci バッグ", price: 100, stock: 10, image: "A.png" },
        { name: "Chanel コスメセット", price: 100, stock: 8, image: "A.png" },
        { name: "Louis Vuitton 財布", price: 100, stock: 5, image: "A.png" },
        { name: "Hermès スカーフ", price: 100, stock: 7, image: "A.png" },
        { name: "Dior 香水", price: 100, stock: 12, image: "A.png" }
    ];

    const initials = "AEHIKMNORSTUWY";
    const notificationElement = document.getElementById('notification');
    const productContainer = document.getElementById('products');
    const stockMessageElement = document.getElementById('stock-message');

    // ローカルストレージから在庫を読み込み
    products.forEach((product, index) => {
        const storedStock = localStorage.getItem(`stock-${index}`);
        if (storedStock !== null) {
            product.stock = parseInt(storedStock, 10);
        }
    });

    // 商品を表示
    function displayProducts() {
        productContainer.innerHTML = '';
        products.forEach((product, index) => {
            const productElement = document.createElement('div');
            productElement.classList.add('product');
            productElement.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div class="info">
                    <h2>${product.name}</h2>
                    <p>価格: ¥${product.price}</p>
                    <p>在庫: <span id="stock-${index}">${product.stock}</span> 個 <span id="purchased-${index}" class="purchased"></span></p>
                </div>
                <button class="buy-button" onclick="buyProduct(${index})">購入する</button>
            `;
            productContainer.appendChild(productElement);
        });
    }

    // 購入ボタンの機能
    function buyProduct(index) {
        if (products[index].stock > 0) {
            window.location.href = "https://inaijhs95.my.canva.site/secret2025";
        } else {
            alert("在庫がありません。");
        }
    }

    // 在庫復活チェック
    function checkRestock() {
        const allZero = products.every(product => product.stock === 0);
        if (allZero) {
            restockProducts();
        }
    }

    // 在庫復活の関数
    function restockProducts() {
        products.forEach((product, index) => {
            product.stock += 5; // 5個ずつ在庫を復活
            localStorage.setItem(`stock-${index}`, product.stock);
        });
        displayProducts();
        stockMessageElement.textContent = "在庫が復活しました！";
        stockMessageElement.style.animation = "slide 10s linear";
    }

    // 購入速報を表示する関数
    function showNotification() {
        const initial1 = initials[Math.floor(Math.random() * initials.length)];
        const initial2 = initials[Math.floor(Math.random() * initials.length)];
        const product = products[Math.floor(Math.random() * products.length)];
        const currentTime = new Date().toLocaleTimeString();
        if (product.stock > 0) {
            notificationElement.textContent = `${currentTime} - ${initial1}.${initial2}さんが${product.name}を購入しました！`;
        }
    }

    // リアルタイムで購入速報を更新
    setInterval(showNotification, 2800);

    // 在庫がゼロの時にチェック
    setInterval(checkRestock, 1000);

    // 初期表示
    displayProducts();
</script>

</body>
</html>
